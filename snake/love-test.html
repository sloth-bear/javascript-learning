<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language of Love TEST</title>
</head>
<body>
    <header data-html="./header.html"></header>
    <div id="questions"></div>

    <button onclick="confirm()">결과 확인하기</button>
    <div id="result"></div>

    <script type="module" src="./html.js"></script>
    <script>
        const createItem = (desc, alphabet) => ({
            desc, alphabet
        });

        const a = desc => createItem(`${desc} - A`, 'A');
        const b = desc => createItem(`${desc} - B`, 'B');
        const c = desc => createItem(`${desc} - C`, 'C');
        const d = desc => createItem(`${desc} - D`, 'D');
        const e = desc => createItem(`${desc} - E`, 'E');

        const questions = [
            [
                a('나는 상대로부터 인정받는 말을 듣는 것을 좋아한다.'),
                e('나는 상대가 안아주는 것을 좋아한다.')
            ],
            [
                b('나는 상대와 단 둘이 보내는 시간을 좋아한다.'),
                d('나는 상대가 실질적인 도움을 줄 때 사랑을 느낀다.')
            ],
            [
                c('나는 상대에게 선물 받는 것을 좋아한다.'),
                b('나는 상대와 함께 산책하는 시간을 좋아한다.')
            ],
            [
                d('나는 상대가 나를 도와줄 때 사랑을 느낀다.'),
                e('나는 상대에게 가벼운 신체 접촉을 받을 때 사랑을 느낀다.')
            ],
            [
                e('나는 상대가 감싸안아 줄 때 사랑을 느낀다.'),
                c('나는 상대에게 선물을 받을 때 사랑을 느낀다.')
            ],
            [
                b('나는 상대와 함께 외출하는 것을 좋아한다.'),
                e('나는 상대와 손잡는 것을 좋아한다.')
            ],
            [
                a('나는 상대가 나를 인정해줄 때 사랑을 느낀다.'),
                c('나에게는 눈에 보이는 사랑(선물)이 매우 의미가 있다.')
            ],
            [
                e('나는 상대와 함께 붙어 앉는 것을 좋아한다.'),
                a('나는 상대가 나에 대해 매력적이라고 이야기해주는 것을 좋아한다.')
            ],
            [
                b('나는 상대와 함께 시간 보내는 것을 좋아한다.'),
                c('나는 상대에게 작지만 선물 받는 것을 좋아한다.')
            ],
            [
                d('나는 상대가 나를 도와 줄 때 사랑을 느낀다.'),
                a('나를 이해해 주는 말들이 나아게는 중요하다.')
            ],
            [
                b('나는 상대와 뭔가 함께 하는 것을 좋아한다.'),
                a('나는 상대가 해주는 친절한 말들을 좋아한다.')
            ],
            [
                e('나는 상대와 포옹할 때 완전함을 느낀다.'),
                d('나는 상대의 말보다 행동을 볼때 더 감동한다.')
            ],
            [
                a('나는 상대의 칭찬을 좋아하고 비판을 회피하는 편이다.'),
                c('나는 커다란 선물보다는 작지만 자주 받는 것을 더 좋아한다. ')
            ],
            [
                e('나는 상대가 자주 신체 접촉해 줄 때 더 친근함을 느낀다.'),
                b('나는 상대와 함께 뭔가 하거나 이야기할 때 친밀함을 느낀다.')
            ],
            [
                a('나는 상대가 내가 해 낸 일에 대해 칭찬하는 것을 좋아한다.'),
                d('나는 상대가 나를 위해 기꺼이 하기 싫은 일을 해 줄 때 진정한 사랑을 느낀다.')
            ],
            [
                e('나는 상대와 걸을 때 손잡아(어깨 감싸) 주는 것을 좋아한다.'),
                b('나는 상대가 내 이야기에 공감하면서 들어 주는 것을 좋아한다.')
            ],
            [
                c('나는 상대에게 선물 받는 것을 정말 즐거워한다.'),
                d('나는 상대가 집 안 일을 도와 줄 때 사랑을 느낀다.')
            ],
            [
                a('나는 상대방이 내 외모에 대해 칭찬해 주는 것을 좋아한다.'),
                b('나는 상대가 내 기분을 이해하기 위해 시간을 내 줄 때 사랑을 느낀다.')
            ],
            [
                e('나는 상대가 나를 어루만져 줄때 평안함을 느낀다.'),
                d('나를 돕는 상대의 수고에 사랑을 느낀다.')
            ],
            [
                d('나는 나를 위해 수고하는 상대에게 고마움을 느낀다.'),
                c('나는 상대가 만든(준비한) 선물 받는 것을 좋아한다.')
            ],
            [
                b('나는 상대가 나에게 전념(집중) 할 때 그 느낌을 굉장히 좋아한다.'),
                d('나는 상대가 나를 위해 뭔가 실제로 행할 때 느낌을 굉장히 좋아한다.')
            ],
            [
                c('나는 상대가 선물과 함께 내 생일을 축하해 줄 때 사랑을 느낀다.'),
                a('나는 내 생일 때 의미 있는 말(카드에 쓰거나 직접)과 함께 축하해 줄 때 사랑을 느낀다.')
            ],
            [
                d('나는 상대가 집안일을 도와줄 때 사랑을 느낀다.'),
                c('나는 상대가 선물을 줄 때 나를 생각해 주는 것이라고 느낀다.')
            ],
            [
                c('나는 상대가 선물과 함께 특별한 날을 기억해 줄 때 고마움을 느낀다.'),
                b('나는 상대가 끝까지 인내를 가지고 이야기를 들어 줄 때 고마움을 느낀다.')
            ],
            [
                b('나는 상대와 장기간 여행을 즐긴다(원한다).'),
                d('나는 상대가 내가 하는 일상적인 일에 충분히 관심을 기울여 주기를 바란다.')
            ],
            [
                e('기대하지 않은 입맞춤이 나를 흥분시킨다.'),
                c('특별하지 않은 때라도 받는 선물은 나를 흥분시킨다.')
            ],
            [
                a('나는 상대에게 고맙다는 말 듣는 것을 좋아한다.'),
                b('나는 상대가 이야기 하는 동안 나를 바라보는 것을 좋아한다.')
            ],
            [
                c('상대방의 선물은 언제나 나에게 특별한 의미가 있다.'),
                e('나는 상대가 가벼운 신체 접촉해 주는 것을 좋아한다.')
            ],
            [
                a('나는 상대가 얼마나 나에게 고마워하고 있는지 말해 줄 때 사랑을 느낀다.'),
                d('나는 상대가 내가 부탁한 일에 최선을 다해 줄 때 사랑을 느낀다.')
            ],
            [
                e('나는 매일 가벼운 신체 접촉을 원한다.'),
                a('나는 매일 상대방의 지지하는 말이 필요하다.')
            ],
        ]

        const drawTest = () => {
            const wrapper = document.querySelector('#questions');

            const radios = questions.forEach((q, i) => {
                const div = document.createElement('div');
                div.classList.add(`question`);

                q.forEach(({ desc, alphabet }, j) => {
                    const p = document.createElement('p');
                    p.classList.add('question-item');

                    const radio = document.createElement('input');
                    radio.id = `radio-${i}${j}`;
                    radio.type = 'radio';
                    radio.name = `radio-${i}`;
                    radio.value = alphabet;
                    
                    const label = document.createElement('label');
                    label.appendChild(document.createTextNode(desc));
                    label.htmlFor = `radio-${i}${j}`;
                    
                    p.appendChild(radio);
                    p.appendChild(label);

                    div.appendChild(p);
                });

                wrapper.appendChild(div);
            });
        };

        window.addEventListener("DOMContentLoaded", () => {
            drawTest();
        });

        const answer = {
            A: ` 인정하는 말

사랑을 표현하는 방법이 격려의 말, 인정해 주는 말입니다.

칭찬하는 말이나 감사의 표현, 그 사람을 인정하고 높혀주는 말들이

이 사람에겐 행복이고, 큰 힘을 줍니다.

또한 이 사람은 사랑의 감정을 말로 전달하고 싶어하며

온화한 말투를 좋아하고, 명령하는 말투를 극히 싫어합니다.

"미안해 , 고마워, 정말 잘하는구나, 사랑해, 넌 정말 좋은 사람이야" 와 같은

사과, 칭찬, 격려, 애정의 말들을 배우자, 또는 주변사람들로 부터 들었을때

"내가 사랑받고 있구나" 라고 느끼며 매사에 최선을 다하게 됩니다.`,
            B: `함께하는 시간

함께하는 시간이 주언어인 사람들은

누군가가 자신에게 온전히 관심을 집중시키고 있을때 사랑을 느낍니다.
단순히 상대방과 함께있는걸 좋아하는 것이 아니라, 함께하는 활동 속에서

상대방이 온전히 나에게 집중하고, 관심을 기울여 주기를 원합니다.

함께 외식을 하거나 영화구경을 하면서 서로의 관심 을 나누고,

그 사람의 눈을 마주보며 이야기를 경청해준다면

그 사람을 분명 당신의 사랑을 느낄 수 있을것입니다.`, 
            C: `선물

이 사람들은 선물 받는 것을 좋아합니다.

선물이 사랑을 표현하는 수단이라 생각하며 사랑을 나타내는 상징이라 믿습니다.

어떤 사람들은 아름다운 보석이나, 값비싼 물건을 선물해야만 사랑이 전달된다고 믿습니다.

하지만 선물이 주언어인 사람들에겐 아주 작은 선물이라도 사랑이 전달되기엔 충분합니다.

주는 사람의 마음만 듬뿍 담겨 있다면 선물의 크고 작음에는 전혀 관계가 없습니다.

당신이 전하는 사랑이 듬뿍 담긴 작은 쪽지 하나라도 이 사람들에겐 평생 간직해고픈 큰 선물이다.
`,
            D: `봉사의 손길

봉사의 손길을 주언어로 가진 사람들은 상대방이 자신을 도와줄때 행복을 느낌니다.

누군가 자신을 위해 무언가를 해줄때 그 속에서 사랑을 느낍니다.

자신의 입으로 원하는 것을 말하기 전에 나를 위해 계획을 세우고 시간을 내서

노력해주길 원합니다. 설겆이, 청소 도와주기, 무거운 물건 대신 들어주기, 등등

누군가 자신을 위해 봉사의 손길을 내민다면 이 사람을 분명히 사랑을 느낄 것입니다.`,
            E: `스킨쉽

스킨쉽이 주언어인 사람들은

말그대로 상대방과의 신체접촉을 통해서 행복을 느낍니다.

이 사람들은 힘들때 누군가 손을 잡아 주거나 어깨를 한번 두드려주는 것만으로도

아주 큰 힘이 얻습니다. 상대방이 손으로 머리를 쓰다듬고 사랑을 듬뽁담아 안아준다면

"난 혼자가 아니야", "행복하다"란 사랑의 감정을 느끼게 될것입니다.`
        }

        const confirm = () => {
            if ([...document.querySelectorAll('input')].filter(e => e.checked).length < 30) {
                alert('모든 문항에 답해주세요!');
                return;
            }

            const result = [...document.querySelectorAll('input')].filter(e => e.checked)
                .reduce((acc, { value }) => {
                    if (acc[value]) {
                        acc[value] = acc[value] + 1;
                    } else {
                        acc[value] = 1;
                    }
                    return acc;
                }, {});

            const max = Object.keys(result).reduce((acc, curr) => {
                if (!acc) {
                    acc = curr;
                }
                return result[acc] > result[curr] ? acc : curr;
            }, '');

            const resultHeader = document.createElement('p');
            resultHeader.innerText = `당신의 결과는! ${JSON.stringify(result)}`;

            const resultP = document.createElement('p');
            resultP.innerText = answer[max];

            const resultWrapper = document.querySelector('#result');
            resultWrapper.appendChild(resultHeader);
            resultWrapper.appendChild(resultP);

            window.scrollTo(0, document.body.scrollHeight);
        };
    </script>
    <style>
        .question {
            border: solid 1px;
            margin: 10px 0px;
        }
    </style>
</body>
</html>